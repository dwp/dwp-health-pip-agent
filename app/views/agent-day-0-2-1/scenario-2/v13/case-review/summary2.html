{% extends "layout.html" %}
{% block pageTitle %}
  Questions and answers
{% endblock %}

{% block main %}

{% include "v13/case-review/record-id-bar.html" %}


<div class="govuk-width-container">
  <div class="column-full">
    <nav class="navigation-secondary">
      <ul>
        <li>
          <a href="personal-details">Personal details</a>
        </li>
        <li>
          <a href="conditions">Conditions</a>
        </li>
        <li>
          <a href="activities">Activities</a>
        </li>
        <!--  <li>
        <a href="questions">Questions</a>
        </li> -->
        <li>
          <a href="summary2" class="active" aria-current="section">Questions and answers</a>
        </li>
      </ul>
    </nav>

  </div>
  <main class="govuk-main-wrapper " id="main-content" role="main">
    <div class="govuk-grid-row">

      <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l">Questions and answers</h1>

    {% from "govuk/components/table/macro.njk" import govukTable %}
<! -- style for NHS cards -->
    <style>
      .nhsuk-card-group__item {
          flex: 0 0 100%;
      }

      .nhsuk-card--clickable {
          border-bottom-width: 4px;
      }

      .nhsuk-card {
          margin-bottom: 40px;
          background: #fff;
          border: 1px solid #d8dde0;
          position: relative;
          width: 100%;
          margin-bottom: 48px;
      }

      .nhsuk-card__content {
          padding: 20px;
          position: relative;
      }

      .nhsuk-card-group__item {
          display: flex;
          list-style-type: none;
          margin-bottom: 0;
      }

      .nhsuk-list--bullet, ul {
          list-style-type: disc;
          padding-left: 0px;
      }

      .nhsuk-list  {
          font-size: 16px;
          font-size: 1rem;
          line-height: 1.5;
          margin-bottom: 16px;
          list-style-type: none;
          margin-top: 0;
          padding-left: 0;
      }
      .nhsuk-u-font-weight-normal {
          font-weight: 400 !important;
      }

      .nhsuk-u-font-size-19 {
          font-size: 19px !important;
          font-size: 1.1875rem !important;
          line-height: 1.47368 !important;
      }

      </style>
   <ul class="govuk-grid-row nhsuk-card-group">
     <li class="govuk-grid-column-one-half nhsuk-card-group__item">
       <div class="nhsuk-card nhsuk-card--clickable">
         <div class="nhsuk-card__content">
           <p class="govuk-heading-m" style="font-size:65px" id="unanswered">0
             <span class="govuk-visually-hidden">Unanswered questions</span>
           </p><a href="#answered" class="nhsuk-card__link  nhsuk-u-font-size-19  govuk-link--no-visited-state">Unanswered <br>questions</a>
        </div>
       </div>

     </li>
     <li class="govuk-grid-column-one-half nhsuk-card-group__item">
       <div class="nhsuk-card nhsuk-card--clickable">
         <div class="nhsuk-card__content">
           <p class="govuk-heading-m" style="font-size:65px; color:#005ea5;" id="answered">0
             <span class="govuk-visually-hidden">Answered questions</span>
           </p><a href="#unanswered" class="nhsuk-card__link  nhsuk-u-font-size-19 govuk-link--no-visited-state">Answered <br>questions</a>
         </div>
       </div>
     </li>
   </ul>

    <table class="govuk-table" id="unanswered-table">
      <caption class="govuk-table__caption govuk-table__caption--m">Unanswered questions about this case </caption>
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Questions</th>
          <th scope="col" class="govuk-table__header">Answers</th>
          <th scope="col" class="govuk-table__header">Contact</th>
          <th scope="col" class="govuk-table__header">Source</th>
          <th scope="col" class="govuk-table__header">Action</th>
        </tr>
      </thead>
     <tbody class="govuk-table__body">


         <!-- question 1 -->

         {% if data['answered-question1'] == 'No'  %}
          <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell" style="width:30%;">Can you describe what a bad day looks like to you?</td>
            <td class="govuk-table__cell" style="width:35%;">  {{ data['question-answerone'] }}</td>
              <td class="govuk-table__cell" style="width:13%;">Claimant</td>
              <td class="govuk-table__cell" style="width:13%;">Preparing food</td>
              <td class="govuk-table__cell"><a href="answer1">Answer</a></td>
            </tr>
            {% endif %}


         <!-- question 2 -->
          {% if data['answered-question2'] == 'No'  %}
          <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell" style="width:30%;">Can you tell us how effective your medication is in helping your symptoms? </td>
            <td class="govuk-table__cell" style="width:35%;">{{ data['question-answertwo'] }}</td>
            <td class="govuk-table__cell" style="width:13%;">Claimant</td>
              <td class="govuk-table__cell" style="width:13%;">Preparing food</td>
                <td class="govuk-table__cell"><a href="answer2">Answer</a> </td>
              </tr>
              {% endif %}
           <!-- question 3 -->
            {% if data['answered-question3'] == 'No'  %}
          <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell" style="width:30%;">Can you tell us about any aids you use for any particular activity? </td>
            <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerthree'] }}</td>
            <td class="govuk-table__cell" style="width:13%;">Claimant </td>
              <td class="govuk-table__cell" style="width:13%;">Eating and drinking </td>
                <td class="govuk-table__cell"><a href="answer3">Answer</a> </td>
              </tr>
              {% endif %}
         <!-- question 4 -->
           {% if data['answered-question4'] == 'No'  %}
           <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell" style="width:30%;">The claimant has stated they are taking paracetamol only to medicate their heart condition, should there be additional medications for this?</td>
            <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerfour'] }}</td>
            <td class="govuk-table__cell" style="width:13%;">Internal medical support</td>
              <td class="govuk-table__cell" style="width:13%;">Managing treatments </td>
                <td class="govuk-table__cell"><a href="answer4">Answer</a></td>
              </tr>
              {% endif %}
     <!-- question 5 -->
      {% if data['answered-question5'] == 'No' %}
          <tr class="govuk-table__row">
            <td scope="row" class="govuk-table__cell" style="width:30%;">The claimant has reported seizures up to three times a day, is this a recognised symptom of their condition?</td>
            <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerfive'] }}</td>
            <td class="govuk-table__cell" style="width:13%;">Internal medical support</td>
              <td class="govuk-table__cell" style="width:13%;">Moving around</td>
                <td class="govuk-table__cell"><a href="answer5">Answer</a> </td>
              </tr>
              {% endif %}
      </tbody>
    </table>

      <br>
      <br>
    <table class="govuk-table" id="answered-table">
      <caption class="govuk-table__caption govuk-table__caption--m">Answered questions about this case  </caption>



      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Questions</th>
          <th scope="col" class="govuk-table__header">Answers</th>
          <th scope="col" class="govuk-table__header">Contact</th>
          <th scope="col" class="govuk-table__header">Source</th>

        </tr>
      </thead>
      <tbody class="govuk-table__body">


                 {% if data['answered-question1'] == 'Yes' %}
                  <tr class="govuk-table__row">
                    <td scope="row" class="govuk-table__cell" style="width:30%;">What does a bad day look like for you?</td>
                    <td class="govuk-table__cell" style="width:35%;">  {{ data['question-answerone'] }}</td>
                      <td class="govuk-table__cell" style="width:13%;">Claimant</td>
                      <td class="govuk-table__cell" style="width:13%;">Preparing food</td>

                    </tr>
                    {% endif %}

                    <!-- question 2 -->
                     {% if data['answered-question2'] == 'Yes' %}
                     <tr class="govuk-table__row">
                       <td scope="row" class="govuk-table__cell" style="width:30%;">How many times a day do you take your medication?</td>
                       <td class="govuk-table__cell" style="width:35%;">{{ data['question-answertwo'] }}</td>
                       <td class="govuk-table__cell" style="width:13%;">Claimant</td>
                         <td class="govuk-table__cell" style="width:13%;">Preparing food</td>

                         </tr>
                             {% endif %}
                      <!-- question 3 -->
                       {% if data['answered-question3'] == 'Yes' %}
                     <tr class="govuk-table__row">
                       <td scope="row" class="govuk-table__cell" style="width:30%;">Does this medication dosage align with the symptoms the claimant is reporting?</td>
                       <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerthree'] }}</td>
                       <td class="govuk-table__cell" style="width:13%;">Claimant </td>
                         <td class="govuk-table__cell" style="width:13%;">Eating and drinking </td>

                         </tr>
                             {% endif %}
                    <!-- question 4 -->
                      {% if data['answered-question4'] == 'Yes' %}
                      <tr class="govuk-table__row">
                       <td scope="row" class="govuk-table__cell" style="width:30%;">question 4</td>
                       <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerfour'] }}</td>
                       <td class="govuk-table__cell" style="width:13%;">Internal medical support</td>
                         <td class="govuk-table__cell" style="width:13%;">Managing treatments </td>

                         </tr>
                              {% endif %}
                <!-- question 5 -->
                 {% if data['answered-question5'] == 'Yes' %}
                     <tr class="govuk-table__row">
                       <td scope="row" class="govuk-table__cell" style="width:30%;">question 5</td>
                       <td class="govuk-table__cell" style="width:35%;">{{ data['question-answerfive'] }}</td>
                       <td class="govuk-table__cell" style="width:13%;">External health professional</td>
                         <td class="govuk-table__cell" style="width:13%;">Moving around</td>

                         </tr>
                             {% endif %}

      </tbody>
    </table>

    <script type="text/javascript">
      // count the rows in unanswered table minus 1 for header
                var a = document.getElementById("unanswered-table");
                var rows = a.rows.length -1;
                       let name = "(+rows)";
                document.getElementById("unanswered").innerHTML = rows;

      // count the rows in answered table minus 1 for header
    {
            var totalRowCount = -1;
            var rowCount = 0;
            var table = document.getElementById("answered-table");
            var rows = table.getElementsByTagName("tr")
            for (var i = 0; i < rows.length; i++) {
                totalRowCount++;
                if (rows[i].getElementsByTagName("td").length > 0) {
                    rowCount++;
                }
            }
            document.getElementById("answered").innerHTML = rowCount;

        }
    </script>

    {{ govukButton({
      text: "Make a recommendation",
      href: "ready-to-make-next-step"
    }) }}


    </div>
  </div>
</div>


{% endblock %}
